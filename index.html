<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" type="text/css" href="styles.css">
  <link rel="icon" type="image/png" sizes="16x16" href="https://jsd.cdn.zzko.cn/gh/covog/picx-images-hosting@master/favicon.149stp25tqow.ico">
  <title>🕊️Lam's Blog | CF优选IP</title>
</head>

<body>
  <div style="padding: 0; margin: auto; width: 360px;">
    <table dir="ltr" class="content">
      <tr>
        <td colspan="2" align="center" style="border-bottom: 1px solid #666;">
          <strong>找出干净的Cloudflare IP地址</strong>
        </td>
      </tr>
      <tr>
        <td>
          <label>IP地址数量： <input type="number" id="max-ip" min="1" max="5000" /></label>
        </td>
        <td>
          <label>最大延迟： <input type="number" id="max-latency" min="50" max="3000" step="50" /></label>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <label>正则表达式： <input type="text" dir="ltr" id="ip-regex" placeholder="^104\.17\.|^141\." /></label>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <label>仅包含以下IP范围： <input type="text" dir="ltr" id="ip-include" placeholder="104.17,141" /></label>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <label>不包含以下IP范围： <input type="text" dir="ltr" id="ip-exclude" placeholder="8,103.22" /></label>
        </td>
      </tr>
      <tr>
        <td>
          项目出处：
          <a href="https://github.com/vfarid/cf-ip-scanner" target="_blank">cf-ip-scanner</a><br>
          项目优化：
          <a href="https://www.imLam.com/" target="_blank">www.imLam.com</a>
        </td>
        <td>
          <button id="btn-start" class="start" onclick="startScan()">开始</button>
          <button id="btn-cancel" class="cancel" onclick="cancelScan()">取消</button>
        </td>
      </tr>
    </table>
    <div class="text-div" style="border-top: 1px solid #666;">
      <div id="start-hint" style="color: red;">在开始之前，请关闭您的代理！</div>
      <div style="width: 110px; float: left;"><span id="test-no"></span></div>
      <div style="width: 120px; float: left;"><span id="ip-no"></span></div>
      <div style="width: 30px; float: left;"><span id="ip-try"></span></div>
      <div style="width: 60px; float: left;"><span id="ip-latency"></span></div>
    </div>
    <table class="list">
      <thead>
        <tr>
          <th width="35">
            #
          </th>
          <th width="150">
            IP地址
          </th>
          <th width="80">
            延迟
          </th>
          <th width="60">
            <a class="download-link" href="#" onclick="downloadAsCSV()">
              <img height="24px" src="assets/excel.png" />
            </a>
            <a class="download-link" href="#" onclick="downloadAsJSON()">
              <img height="24px" src="assets/json.png" />
            </a>
          </th>
        </tr>
      </thead>
      <tbody id="result">
      </tbody>
    </table>
  </div>

</body>
<script src="test.js" type="text/javascript"></script>
</html>